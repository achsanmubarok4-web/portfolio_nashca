
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Google AI Studio - Image AI Generator</title>
<link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-900 text-white">

<div class="max-w-4xl mx-auto p-8">
    <h1 class="text-4xl font-bold mb-6 text-center">ðŸ”¥ Google AI Studio Image Generator</h1>

    <div class="bg-gray-800 p-6 rounded-2xl shadow-xl space-y-4">

        <div>
            <label class="block mb-2">Upload Image</label>
            <input type="file" id="imageInput" class="w-full p-2 text-black rounded">
        </div>

        <div>
            <label class="block mb-2">Prompt</label>
            <input type="text" id="prompt" placeholder="Example: Turn this into cinematic scene"
                   class="w-full p-2 text-black rounded">
        </div>

        <div>
            <label class="block mb-2">Google AI Studio API Key</label>
            <input type="text" id="apiKey" placeholder="Paste your Google API Key"
                   class="w-full p-2 text-black rounded">
        </div>

        <button onclick="generate()"
                class="w-full bg-blue-600 hover:bg-blue-700 p-3 rounded-xl font-bold">
            Generate
        </button>

        <div id="status" class="text-yellow-400 mt-4"></div>

        <pre id="result" class="bg-black p-4 rounded mt-4 overflow-auto"></pre>
    </div>
</div>

<script>
async function generate() {
    const file = document.getElementById("imageInput").files[0];
    const prompt = document.getElementById("prompt").value;
    const apiKey = document.getElementById("apiKey").value;
    const status = document.getElementById("status");
    const resultBox = document.getElementById("result");

    if (!file || !prompt || !apiKey) {
        alert("Please fill all fields");
        return;
    }

    status.innerText = "Processing with Google AI...";
    resultBox.innerText = "";

    const base64Image = await toBase64(file);

    try {
        const response = await fetch(
            "https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=" + apiKey,
            {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({
                    contents: [
                        {
                            parts: [
                                { text: prompt },
                                {
                                    inlineData: {
                                        mimeType: file.type,
                                        data: base64Image
                                    }
                                }
                            ]
                        }
                    ]
                })
            }
        );

        const data = await response.json();

        if (data.candidates && data.candidates.length > 0) {
            resultBox.innerText = data.candidates[0].content.parts[0].text;
            status.innerText = "âœ… Done!";
        } else {
            resultBox.innerText = JSON.stringify(data, null, 2);
            status.innerText = "âš ï¸ No result returned.";
        }

    } catch (error) {
        status.innerText = "âŒ Error: " + error.message;
    }
}

function toBase64(file) {
    return new Promise((resolve, reject) => {
        const reader = new FileReader();
        reader.readAsDataURL(file);
        reader.onload = () => resolve(reader.result.split(",")[1]);
        reader.onerror = error => reject(error);
    });
}
</script>

</body>
</html>
